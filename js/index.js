$(function(){function t(){var t=$("#dice"),o=$("#loading"),e=$("#run_dice"),i=$("#throw_dice"),n=[{position:new google.maps.LatLng(23.568086083371814,120.30466228723526),title:"北港朝天宮",price:1e3},{position:new google.maps.LatLng(23.564542759763924,120.30401922762394),title:"日興堂餅店",price:300},{position:new google.maps.LatLng(23.565024632804803,120.30178427696228),title:"北港大橋",price:100},{position:new google.maps.LatLng(23.568382943785544,120.3024172782898),title:"仁愛眼鏡",price:400},{position:new google.maps.LatLng(23.56869271045844,120.30137121677399),title:"北港圓環",price:300},{position:new google.maps.LatLng(23.569646590544906,120.3018057346344),title:"第一銀行",price:300},{position:new google.maps.LatLng(23.570438207418054,120.29966801404953),title:"麥當勞",price:350},{position:new google.maps.LatLng(23.572139430017806,120.30015349388123),title:"黑仔當歸鴨",price:400},{position:new google.maps.LatLng(23.571205235364623,120.30257821083069),title:"85度C ",price:300},{position:new google.maps.LatLng(23.569961271115567,120.30586391687393),title:"廟後街",price:200}],a="玩家",s="電腦";a=prompt("請輸入您的暱稱吧！",a),(!a||a.length<=0)&&(a="玩家"),$("#quota1 b").text(a),$("#quota2 b").text(s);var l=new window.funcs;if(!l.init($("#map"),n,$("#logs")))return alert("地圖資料初始化失敗");l.logs("地圖資料初始化成功！","title");var g=l.createUser(a,$("#quota1 span"),"rgba(0, 0, 255, 0.9)");g.setPosition();var r=l.createUser(s,$("#quota2 span"),"rgba(0, 128, 0, 0.9)");r.setPosition(),l.logs("使用者初始化成功！","title"),l.logs("遊戲開始，請擲骰子吧！","title"),i.click(function(){i.prop("disabled",!0);var o=Math.floor(6*Math.random()+1);t.attr("class","show"+o),e.fadeIn(function(){for(var n=Math.floor(6*Math.random()+1);n==o;n=Math.floor(6*Math.random()+1));t.attr("class","show"+n),l.logs(g.name+" 擲出 "+n+" 點！"),setTimeout(function(){e.fadeOut(function(){g.goStep(n,!1,function(){l.logs("換 "+r.name+" 擲骰子！","title"),n=Math.floor(6*Math.random()+1),l.logs(r.name+" 擲出 "+n+" 點！"),r.goStep(n,!0,function(){i.prop("disabled",!1),l.logs("換 "+g.name+" 擲骰子！","title")})})})},800)})}),o.fadeOut(function(){$(this).hide(function(){$(this).remove()})})}google.maps.event.addDomListener(window,"load",t)});